:root{
  --brand:#6a5acd; --bg:#f7f7ff; --card:#fff; --ink:#222; --muted:#666;
  --ring:#c9c5ff;
}
*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg); color:var(--ink);
}
.wrap{ max-width:980px; margin:24px auto; padding:0 16px }

.header{ display:flex; align-items:center; gap:16px; justify-content:space-between; margin-bottom:12px }
.header h1{ margin:0; font-weight:700 }
.badge{ font-size:.65em; background:#ecebff; color:#4639b8; padding:2px 8px; border-radius:999px }
.status{ font-size:.95em; color:#333; padding:4px 10px; background:#fff; border:1px solid #eee; border-radius:999px }

.card{
  background:var(--card); border:1px solid #eee; border-radius:16px; padding:16px; margin:14px 0;
  box-shadow:0 1px 2px rgba(0,0,0,.03)
}
.card h2{ margin:0 0 10px }

label{ display:flex; flex-direction:column; gap:6px; font-weight:600; color:#222 }
input, textarea{
  border:1px solid #e2e2f4; border-radius:12px; padding:10px 12px; font:inherit; background:#fff;
  outline:none;
}
input:focus, textarea:focus{ border-color:var(--ring); box-shadow:0 0 0 3px rgba(105,90,205,.15) }
textarea{ resize:vertical }

.row{ display:flex; gap:10px; align-items:center; margin-top:10px }
.grow{ flex:1 }
.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:10px }
@media (max-width:760px){ .grid2{ grid-template-columns:1fr } }

.btn{
  background:var(--brand); color:#fff; border:none; padding:10px 16px; border-radius:12px; cursor:pointer; font-weight:700;
  box-shadow:0 1px 2px rgba(0,0,0,.1);
}
.btn:hover{ filter:brightness(0.98) }
.btn-alt{ background:#ecebff; color:#2e2a7b }
.btn-sm{ padding:6px 10px; border-radius:10px; border:1px solid #ddd; background:#fff; cursor:pointer }

.log{ font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size:.9em; background:#fafaff; border:1px dashed #ddd; padding:8px; border-radius:12px; margin-top:10px; max-height:140px; overflow:auto }

#asyncLesson, #syncLesson{ display:grid; gap:8px; margin-top:10px }
.step{
  padding:10px; border:1px solid #eee; border-radius:12px; background:#fff;
}
.step img{ width:100%; height:auto; border-radius:12px; display:block; margin-bottom:6px }
.step .q{ font-weight:700; margin-bottom:6px }
.step .opts{ display:flex; gap:6px; flex-wrap:wrap }

.preview h3{ margin:6px 0 }
.preview ul{ margin:6px 0 10px 18px }

  #imagePreview img{ width:100%; height:auto; border-radius:12px; border:1px solid #eee }
  .image-tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px }
  .image-tab{ border:1px solid #eee; padding:2px; border-radius:8px; background:#fff; cursor:pointer }
  .image-tab img{ display:block; width:80px; height:auto; border-radius:6px }
  .image-tab.active{ border-color:var(--brand); box-shadow:0 0 0 2px var(--brand) }

.chat{
  border:1px solid #eee; background:#fff; border-radius:14px; padding:10px; height:200px; overflow:auto; display:flex; flex-direction:column; gap:6px
}
.bubble{
  max-width:80%; padding:8px 12px; border-radius:14px; line-height:1.3
}
.bubble.user{ align-self:flex-end; background:#e8f0ff }
.bubble.bot{ align-self:flex-start; background:#eef6ee }

footer{ text-align:center; margin:16px 0 }
.muted{ color:var(--muted) }
